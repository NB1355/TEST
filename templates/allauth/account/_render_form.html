{% load widget_tweaks %}

{% csrf_token %}

{% if redirect_field_value %}
<input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}"/>
{% endif %}

{% for field in form.visible_fields %}
  <div>
  {{ field|add_label_class:"block text-sm font-medium leading-6 text-gray-900" }}
  {% if field.errors %}
  {% render_field field class="block w-full rounded-md border-2 border-red-500 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-accent-600 sm:text-sm sm:leading-6" %}
  {% else %}
  {% render_field field class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-accent-600 sm:text-sm sm:leading-6" %}
  {% endif %}
  {% for error in field.errors %}
  <span class="flex items-center max-w-xs mt-1 ml-1 text-xs font-medium tracking-wide text-red-500">
    {{ error }}
  </span>
  {% endfor %}
  </div>
{% endfor %}